# FlowBotz API Security Configuration
# Copy this file to .env and update with your actual values

# Environment
ENVIRONMENT=development  # development, staging, production

# JWT Security Keys (REQUIRED - Generate strong random keys)
JWT_SECRET_KEY=your-super-secure-jwt-secret-key-at-least-32-characters-long
JWT_REFRESH_SECRET_KEY=your-super-secure-refresh-secret-different-from-access-key
CSRF_SECRET_KEY=your-csrf-secret-key-for-cross-site-request-forgery-protection

# Database Configuration
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key
SUPABASE_JWT_SECRET=your-supabase-jwt-secret

# Payment Processing
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key
STRIPE_WEBHOOK_SECRET=whsec_your-stripe-webhook-secret

# AI Services
OPENAI_API_KEY=sk-your-openai-api-key
ANTHROPIC_API_KEY=your-anthropic-api-key
TOGETHER_API_KEY=your-together-api-key
STABILITY_API_KEY=your-stability-ai-api-key
GOOGLE_GENERATIVE_AI_API_KEY=your-google-gemini-api-key

# Print-on-Demand Services
PRINTFUL_API_KEY=your-printful-api-key
PRINTIFY_API_KEY=your-printify-api-key
PRINTIFY_WEBHOOK_SECRET=your-printify-webhook-secret

# Security Settings
MAX_REQUESTS_PER_MINUTE=100
MAX_REQUESTS_PER_HOUR=1000
RATE_LIMIT_REDIS_URL=redis://localhost:6379/0  # Optional: For distributed rate limiting
BLOCKED_IPS=  # Comma-separated list of blocked IPs
ALLOWED_HOSTS=localhost,127.0.0.1,flowbotz.com,www.flowbotz.com

# Logging and Monitoring
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
ENABLE_SECURITY_LOGGING=true
AUDIT_LOG_RETENTION_DAYS=90

# CORS Settings
FRONTEND_URLS=http://localhost:3000,https://flowbotz.com,https://www.flowbotz.com

# Session Configuration
SESSION_TIMEOUT_HOURS=24
MAX_CONCURRENT_SESSIONS=3

# File Upload Security
MAX_FILE_SIZE_MB=50
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf,webp
UPLOAD_SCAN_FOR_MALWARE=false  # Set to true if you have malware scanning enabled

# Database Connection Pool
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30

# Production Security Headers
HSTS_MAX_AGE=31536000  # 1 year in seconds
CSP_REPORT_URI=https://your-csp-report-endpoint.com/report

# SSL/TLS Configuration (Production only)
SSL_CERT_PATH=/path/to/ssl/certificate.pem
SSL_KEY_PATH=/path/to/ssl/private-key.pem

# Performance Settings
WORKER_COUNT=4
MAX_CONNECTIONS_PER_WORKER=1000
KEEPALIVE_TIMEOUT=2

# Email Configuration (for notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
FROM_EMAIL=noreply@flowbotz.com

# Webhook Security
WEBHOOK_TIMEOUT_SECONDS=30
WEBHOOK_MAX_RETRIES=3