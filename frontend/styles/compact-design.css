/**
 * ╔═══════════════════════════════════════════════════════════════════════════╗
 * ║                      COMPACT DESIGN SYSTEM OVERRIDES                     ║
 * ║                     Much Smaller, Professional UI                         ║
 * ╚═══════════════════════════════════════════════════════════════════════════╝
 */

/* ============================================================================
   COMPACT TYPOGRAPHY SYSTEM - MUCH SMALLER SIZES
   ============================================================================ */

:root {
  /* Ultra-compact fluid typography - 50% smaller than before */
  --text-xs: clamp(0.625rem, 0.60rem + 0.125vw, 0.75rem);      /* 10-12px */
  --text-sm: clamp(0.75rem, 0.71rem + 0.2vw, 0.875rem);        /* 12-14px */
  --text-base: clamp(0.875rem, 0.83rem + 0.22vw, 1rem);        /* 14-16px */
  --text-lg: clamp(1rem, 0.93rem + 0.33vw, 1.125rem);          /* 16-18px */
  --text-xl: clamp(1.125rem, 1.04rem + 0.4vw, 1.25rem);        /* 18-20px */
  --text-2xl: clamp(1.25rem, 1.15rem + 0.5vw, 1.5rem);         /* 20-24px */
  --text-3xl: clamp(1.5rem, 1.36rem + 0.7vw, 2rem);            /* 24-32px */
  --text-4xl: clamp(2rem, 1.71rem + 1.43vw, 2.5rem);           /* 32-40px */
  --text-5xl: clamp(2.5rem, 2.07rem + 2.14vw, 3rem);           /* 40-48px */
  --text-6xl: clamp(3rem, 2.43rem + 2.86vw, 3.5rem);           /* 48-56px */

  /* Compact spacing system - 40% smaller */
  --space-xs: clamp(0.125rem, 0.11rem + 0.07vw, 0.25rem);      /* 2-4px */
  --space-sm: clamp(0.25rem, 0.23rem + 0.1vw, 0.375rem);       /* 4-6px */
  --space-base: clamp(0.5rem, 0.46rem + 0.2vw, 0.75rem);       /* 8-12px */
  --space-md: clamp(0.75rem, 0.68rem + 0.33vw, 1rem);          /* 12-16px */
  --space-lg: clamp(1rem, 0.89rem + 0.5vw, 1.25rem);           /* 16-20px */
  --space-xl: clamp(1.25rem, 1.11rem + 0.67vw, 1.5rem);        /* 20-24px */
  --space-2xl: clamp(1.5rem, 1.32rem + 0.86vw, 2rem);          /* 24-32px */
  --space-3xl: clamp(2rem, 1.75rem + 1.25vw, 2.5rem);          /* 32-40px */

  /* Professional Border Radius System - 4-tier standardization */
  --radius-tight: 0.5rem;     /* 8px - inputs, small buttons, tags */
  --radius-default: 1rem;     /* 16px - cards, containers, main buttons */
  --radius-loose: 1.5rem;     /* 24px - hero sections, modals, large cards */
  --radius-full: 9999px;      /* Full radius - pills, avatars, badges */

  /* Professional Shadow System */
  --shadow-subtle: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  --shadow-soft: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-medium: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-strong: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  --shadow-glow: 0 0 20px rgb(147 51 234 / 0.3);

  /* Professional Button Heights - 3-tier system */
  --button-height-sm: 2rem;      /* 32px - compact buttons */
  --button-height-md: 2.5rem;    /* 40px - standard buttons */
  --button-height-lg: 3rem;      /* 48px - hero/primary buttons */

  /* Optimized Component Sizing */
  --compact-nav-height: clamp(3rem, 2.75rem + 1.25vw, 3.5rem);
  --compact-card-padding: clamp(0.75rem, 0.68rem + 0.33vw, 1rem);
  --compact-section-padding: clamp(1.5rem, 1.25rem + 1.25vw, 2.5rem); /* Reduced by 25% */

  /* Professional Animation System */
  --duration-instant: 100ms;
  --duration-fast: 200ms;
  --duration-normal: 300ms;
  --duration-slow: 500ms;
  --easing-smooth: cubic-bezier(0.4, 0, 0.2, 1);
  --easing-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);

  /* Touch targets - optimized */
  --touch-target-compact: 40px;
  --touch-target-comfortable: 44px;
}

/* ============================================================================
   COMPACT COMPONENT CLASSES
   ============================================================================ */

/* Compact navigation */
.compact-nav {
  height: var(--compact-nav-height);
  padding: var(--space-sm) var(--space-base);
  margin: var(--space-sm);
}

.compact-nav .logo {
  width: clamp(1.5rem, 1.43rem + 0.36vw, 2rem); /* 24-32px */
  height: clamp(1.5rem, 1.43rem + 0.36vw, 2rem);
  font-size: var(--text-sm);
}

.compact-nav .nav-text {
  font-size: var(--text-sm);
  font-weight: 600;
}

/* Professional Button System - Standardized Heights & Radius */
.btn-compact {
  height: var(--button-height-md);
  padding: var(--space-sm) var(--space-base);
  font-size: var(--text-xs);
  font-weight: 600;
  min-height: var(--touch-target-compact);
  border-radius: var(--radius-tight);
  box-shadow: var(--shadow-subtle);
  transition: all var(--duration-fast) var(--easing-smooth);
}

.btn-compact:hover {
  transform: translateY(-1px) scale(1.02);
  box-shadow: var(--shadow-soft);
}

.btn-compact-sm {
  height: var(--button-height-sm);
  padding: var(--space-xs) var(--space-sm);
  font-size: var(--text-xs);
  font-weight: 600;
  min-height: 36px;
  border-radius: var(--radius-tight);
  box-shadow: var(--shadow-subtle);
  transition: all var(--duration-fast) var(--easing-smooth);
}

.btn-compact-lg {
  height: var(--button-height-lg);
  padding: var(--space-base) var(--space-lg);
  font-size: var(--text-base);
  font-weight: 700;
  min-height: var(--touch-target-comfortable);
  border-radius: var(--radius-tight);
  box-shadow: var(--shadow-soft);
  transition: all var(--duration-fast) var(--easing-smooth);
}

/* Professional Card System - Standardized Radius & Enhanced Styling */
.card-compact {
  padding: var(--compact-card-padding);
  border-radius: var(--radius-default);
  min-height: auto;
  box-shadow: var(--shadow-subtle);
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  transition: all var(--duration-normal) var(--easing-smooth);
}

.card-compact:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-medium);
  border-color: rgba(255, 255, 255, 0.2);
}

.card-compact-sm {
  padding: var(--space-sm);
  border-radius: var(--radius-tight);
  min-height: auto;
  box-shadow: var(--shadow-subtle);
  backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.08);
  transition: all var(--duration-fast) var(--easing-smooth);
}

.card-compact-lg {
  padding: var(--space-lg);
  border-radius: var(--radius-loose);
  min-height: auto;
  box-shadow: var(--shadow-soft);
  backdrop-filter: blur(16px);
  border: 1px solid rgba(255, 255, 255, 0.12);
  transition: all var(--duration-normal) var(--easing-smooth);
}

/* Product card - MUCH smaller */
.product-card-compact {
  max-height: clamp(12rem, 11rem + 5vw, 16rem); /* 192-256px max */
  min-height: clamp(10rem, 9rem + 5vw, 14rem);  /* 160-224px min */
  padding: var(--space-base);
  aspect-ratio: 4/5; /* More compact ratio */
}

.product-image-compact {
  height: clamp(6rem, 5.5rem + 2.5vw, 8rem); /* 96-128px */
  width: 100%;
  object-fit: cover;
}

/* Professional Section System - Optimized Spacing */
.section-compact {
  padding: var(--compact-section-padding) var(--space-base);
}

/* Professional Hero - Reduced vertical space for better screen utilization */
.hero-compact {
  padding: clamp(2rem, 2rem + 2vw, 3rem) var(--space-base) clamp(1.5rem, 1rem + 2vw, 2rem);
  min-height: auto;
}

/* Professional Modal System */
.modal-compact {
  border-radius: var(--radius-loose);
  box-shadow: var(--shadow-strong);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

/* Professional Input System */
.input-compact {
  border-radius: var(--radius-tight);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all var(--duration-fast) var(--easing-smooth);
}

.input-compact:focus {
  border-color: rgb(147 51 234);
  box-shadow: 0 0 0 3px rgb(147 51 234 / 0.1);
  transform: translateY(-1px);
}

.hero-title-compact {
  font-size: var(--text-4xl);
  line-height: 1.1;
  margin-bottom: var(--space-base);
}

.hero-subtitle-compact {
  font-size: var(--text-lg);
  line-height: 1.4;
  margin-bottom: var(--space-lg);
}

.hero-description-compact {
  font-size: var(--text-base);
  line-height: 1.5;
  margin-bottom: var(--space-xl);
}

/* Compact grid systems */
.grid-compact {
  gap: var(--space-base);
}

.grid-compact-sm {
  gap: var(--space-sm);
}

/* Compact feature cards */
.feature-card-compact {
  padding: var(--space-lg);
  min-height: clamp(10rem, 9rem + 5vw, 12rem); /* 160-192px */
  max-height: clamp(12rem, 11rem + 5vw, 14rem); /* 192-224px */
}

.feature-icon-compact {
  width: clamp(2.5rem, 2.25rem + 1.25vw, 3rem); /* 40-48px */
  height: clamp(2.5rem, 2.25rem + 1.25vw, 3rem);
  font-size: var(--text-lg);
}

/* Compact stats */
.stat-compact {
  padding: var(--space-lg);
  min-height: clamp(6rem, 5.5rem + 2.5vw, 8rem); /* 96-128px */
}

.stat-number-compact {
  font-size: var(--text-2xl);
  font-weight: 800;
}

.stat-label-compact {
  font-size: var(--text-sm);
  font-weight: 600;
}

/* ============================================================================
   RESPONSIVE BREAKPOINTS FOR COMPACT DESIGN
   ============================================================================ */

/* Mobile first - ultra compact */
@media (max-width: 479px) {
  .product-card-compact {
    max-height: clamp(8rem, 7rem + 5vw, 10rem); /* Even smaller on mobile */
    min-height: clamp(7rem, 6rem + 5vw, 9rem);
  }
  
  .compact-nav {
    padding: var(--space-xs) var(--space-sm);
  }
  
  .hero-compact {
    padding: var(--space-2xl) var(--space-sm) var(--space-xl);
  }
}

/* Tablet Portrait (768-834px) - Critical fix for layout breaking */
@media (min-width: 768px) and (max-width: 834px) {
  .grid-products-compact {
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-base);
  }
  
  /* Dashboard grid fixes */
  .dashboard-grid {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: var(--space-sm) !important;
  }
  
  /* Card sizing adjustments for tablet */
  .card-compact {
    padding: var(--space-sm) !important;
    margin: var(--space-xs) !important;
  }
  
  /* Text scaling for tablet readability */
  .hero-title-compact {
    font-size: var(--text-3xl) !important;
  }
  
  /* Navigation adjustments */
  .compact-nav {
    padding: var(--space-sm) var(--space-md) !important;
  }
  
  /* Product grid specific fixes */
  .product-grid-tablet {
    grid-template-columns: repeat(3, 1fr) !important;
    gap: var(--space-sm) !important;
  }
  
  /* Form layout adjustments */
  .form-tablet {
    max-width: 90% !important;
    margin: 0 auto !important;
  }
}

/* Tablet Landscape (835-1023px) - Fix for iPad Pro landscape issues */
@media (min-width: 835px) and (max-width: 1023px) {
  .grid-products-compact {
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-base);
  }
  
  /* Dashboard specific layout fixes */
  .dashboard-grid {
    grid-template-columns: repeat(3, 1fr) !important;
    gap: var(--space-base) !important;
  }
  
  /* Card overlapping prevention */
  .card-compact {
    margin: var(--space-sm) !important;
    min-height: auto !important;
  }
  
  /* Gallery masonry fixes */
  .gallery-grid {
    grid-template-columns: repeat(4, 1fr) !important;
    gap: var(--space-sm) !important;
    align-items: start !important;
  }
  
  /* Creator page specific fixes */
  .creator-grid {
    grid-template-columns: repeat(4, 1fr) !important;
    gap: var(--space-base) !important;
  }
  
  /* Modal sizing for landscape tablets */
  .modal-content-responsive {
    max-width: 85vw !important;
    max-height: 90vh !important;
  }
  
  /* Navigation spacing optimization */
  .compact-nav {
    padding: var(--space-base) var(--space-lg) !important;
  }
}

/* Desktop */
@media (min-width: 1024px) {
  .grid-products-compact {
    grid-template-columns: repeat(4, 1fr);
  }
}

/* Large desktop */
@media (min-width: 1280px) {
  .grid-products-compact {
    grid-template-columns: repeat(4, 1fr);
  }
}

/* ============================================================================
   CONTAINER QUERIES FOR COMPACT COMPONENTS
   ============================================================================ */

/* Fluid responsive design with container queries */
.responsive-container {
  container-type: inline-size;
}

@container (min-width: 320px) {
  .grid-compact-responsive {
    grid-template-columns: 1fr;
    gap: var(--space-sm);
  }
}

@container (min-width: 480px) {
  .grid-compact-responsive {
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-base);
  }
}

@container (min-width: 640px) {
  .grid-compact-responsive {
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-base);
  }
}

@container (min-width: 768px) {
  .grid-compact-responsive {
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-md);
  }
}

@container (min-width: 896px) {
  .grid-compact-responsive {
    grid-template-columns: repeat(4, 1fr);
    gap: var(--space-md);
  }
}

@container (min-width: 1024px) {
  .grid-compact-responsive {
    grid-template-columns: repeat(4, 1fr);
    gap: var(--space-lg);
  }
}

@container (min-width: 1280px) {
  .grid-compact-responsive {
    grid-template-columns: repeat(5, 1fr);
    gap: var(--space-lg);
  }
}

/* ============================================================================
   SAFE AREA INSETS FOR NOTCHED DEVICES
   ============================================================================ */

/* Safe area support for modern mobile devices */
.safe-area-container {
  padding-top: env(safe-area-inset-top);
  padding-right: env(safe-area-inset-right);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left);
}

.safe-area-top {
  padding-top: max(var(--space-base), env(safe-area-inset-top));
}

.safe-area-bottom {
  padding-bottom: max(var(--space-base), env(safe-area-inset-bottom));
}

.safe-area-horizontal {
  padding-left: max(var(--space-base), env(safe-area-inset-left));
  padding-right: max(var(--space-base), env(safe-area-inset-right));
}

/* Navigation safe areas */
.compact-nav-safe {
  padding-top: max(var(--space-sm), env(safe-area-inset-top));
  padding-left: max(var(--space-base), env(safe-area-inset-left));
  padding-right: max(var(--space-base), env(safe-area-inset-right));
}

/* Modal safe areas */
.modal-safe-area {
  max-height: calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom) - 2rem);
  margin-top: max(1rem, env(safe-area-inset-top));
  margin-bottom: max(1rem, env(safe-area-inset-bottom));
}

/* ============================================================================
   PROFESSIONAL UTILITY CLASSES
   ============================================================================ */

/* Border Radius Utilities */
.radius-tight { border-radius: var(--radius-tight) !important; }
.radius-default { border-radius: var(--radius-default) !important; }
.radius-loose { border-radius: var(--radius-loose) !important; }
.radius-full { border-radius: var(--radius-full) !important; }

/* Shadow Utilities */
.shadow-subtle { box-shadow: var(--shadow-subtle) !important; }
.shadow-soft { box-shadow: var(--shadow-soft) !important; }
.shadow-medium { box-shadow: var(--shadow-medium) !important; }
.shadow-strong { box-shadow: var(--shadow-strong) !important; }
.shadow-glow { box-shadow: var(--shadow-glow) !important; }

/* Professional Hover Effects */
.hover-lift {
  transition: all var(--duration-fast) var(--easing-smooth);
}
.hover-lift:hover {
  transform: translateY(-2px) scale(1.02);
  filter: brightness(1.05);
}

.hover-glow {
  transition: all var(--duration-normal) var(--easing-smooth);
}
.hover-glow:hover {
  box-shadow: var(--shadow-glow);
}

/* ============================================================================
   UTILITY CLASSES FOR COMPACT DESIGN
   ============================================================================ */

.text-compact-xs { font-size: var(--text-xs); }
.text-compact-sm { font-size: var(--text-sm); }
.text-compact-base { font-size: var(--text-base); }
.text-compact-lg { font-size: var(--text-lg); }
.text-compact-xl { font-size: var(--text-xl); }
.text-compact-2xl { font-size: var(--text-2xl); }
.text-compact-3xl { font-size: var(--text-3xl); }
.text-compact-4xl { font-size: var(--text-4xl); }

.p-compact-xs { padding: var(--space-xs); }
.p-compact-sm { padding: var(--space-sm); }
.p-compact-base { padding: var(--space-base); }
.p-compact-md { padding: var(--space-md); }
.p-compact-lg { padding: var(--space-lg); }
.p-compact-xl { padding: var(--space-xl); }

.m-compact-xs { margin: var(--space-xs); }
.m-compact-sm { margin: var(--space-sm); }
.m-compact-base { margin: var(--space-base); }
.m-compact-md { margin: var(--space-md); }
.m-compact-lg { margin: var(--space-lg); }
.m-compact-xl { margin: var(--space-xl); }

.gap-compact-xs { gap: var(--space-xs); }
.gap-compact-sm { gap: var(--space-sm); }
.gap-compact-base { gap: var(--space-base); }
.gap-compact-md { gap: var(--space-md); }
.gap-compact-lg { gap: var(--space-lg); }

/* ============================================================================
   ACCESSIBILITY & PERFORMANCE FOR COMPACT DESIGN
   ============================================================================ */

/* Ensure touch targets remain accessible */
.compact-interactive {
  min-height: var(--touch-target-compact);
  min-width: var(--touch-target-compact);
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Reduce motion for compact animations */
@media (prefers-reduced-motion: reduce) {
  .compact-animation {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}

/* Professional Accessibility Support */
@media (prefers-contrast: high) {
  .card-compact,
  .card-compact-sm,
  .card-compact-lg,
  .product-card-compact,
  .feature-card-compact {
    border: 2px solid currentColor;
  }
}

/* Professional Focus System */
.focus-ring:focus-visible {
  outline: 2px solid rgb(147 51 234);
  outline-offset: 2px;
  border-radius: var(--radius-tight);
}

/* Performance Optimizations */
.will-change-transform {
  will-change: transform;
}

.gpu-accelerated {
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* Text truncation utilities */
.line-clamp-1 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 1;
}

.line-clamp-2 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
}

.line-clamp-3 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 3;
}

/* Touch Target Sizes for Mobile Accessibility */
.min-touch-target {
  min-height: 44px;
  min-width: 44px;
}

/* ============================================================================
   PERFECT CENTERING UTILITIES - Text & Component Alignment
   ============================================================================ */

/* Perfect button text centering - ensures text is centered both horizontally and vertically */
.center-button-text {
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  text-align: center !important;
  line-height: 1 !important;
}

/* Perfect component centering - for any element that needs perfect center alignment */
.center-content {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  text-align: center !important;
}

/* Perfect flex centering for containers */
.center-flex {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* Perfect grid centering for grid items */
.center-grid-item {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  place-self: center !important;
}

/* Text-only centering for inline text elements */
.center-text-only {
  text-align: center !important;
  line-height: 1.2 !important;
}

/* Vertical centering for flex children */
.center-vertical {
  display: flex !important;
  align-items: center !important;
}

/* Horizontal centering for flex children */
.center-horizontal {
  display: flex !important;
  justify-content: center !important;
}

/* Perfect centering for icons within buttons */
.center-icon {
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  vertical-align: middle !important;
}

/* Enhanced button styling with perfect text alignment */
.perfect-button {
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  text-align: center !important;
  gap: 0.5rem !important;
  white-space: nowrap !important;
  line-height: 1 !important;
  vertical-align: middle !important;
}

/* Perfect centering for card content */
.center-card-content {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  text-align: center !important;
}

/* Enhanced focus ring with perfect alignment */
.cosmic-focus-ring {
  outline: none !important;
}

.cosmic-focus-ring:focus-visible {
  outline: 2px solid rgb(147 51 234) !important;
  outline-offset: 2px !important;
  border-radius: var(--radius-tight) !important;
}